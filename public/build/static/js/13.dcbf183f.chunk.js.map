{"version":3,"sources":["components/datatable/Datatable.js","components/common/DeleteConfirmDialog.js","views/Users/UsersModal.js","action/user.action.js"],"names":["Datatable","_ref","data","columns","onFetchData","pages","loading","filterable","sortable","react_default","a","createElement","Fragment","react_table_es","manual","state","instance","defaultPageSize","className","DeleteConfirmDialog","open","toggle","_this","setState","onClickToDelete","_this$props","props","onClick","deleteId","IconButton_default","aria-label","this","Delete_default","fontSize","reactstrap_es","isOpen","color","React","Component","UsersModal","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChangeToFetchTable","getAllUser","page","pageSize","sorted","filtered","then","res","code","_res$data$data","total","limit","tableData","docs","Math","ceil","id","someArray","slice","findIndex","x","_id","console","log","bind","assertThisInitialized","_this2","Header","accessor","width","style","textAlign","d","status","Cell","row","Edit_default","common_DeleteConfirmDialog","_original","xs","lg","datatable_Datatable","connect","dispatch","axios","get","concat","API","URL","deleteUser"],"mappings":"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","file":"static/js/13.dcbf183f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactTable from \"react-table\";\r\nimport 'react-table/react-table.css';\r\nimport PropTypes from 'prop-types'; \r\n\r\n\r\nconst Datatable = ({data, columns, onFetchData, pages, loading, filterable, sortable}) => {\r\n    return (\r\n        <>\r\n        <ReactTable\r\n          columns={columns}\r\n          manual // Forces table not to paginate or sort automatically, so we can handle it server-side\r\n          data={data}\r\n          pages={pages} // Display the total number of pages\r\n          loading={loading} // Display the loading overlay when we need it\r\n          onFetchData={(state, instance) => onFetchData(state, instance)} // Request new data when things change\r\n          filterable={filterable}\r\n          sortable={sortable}\r\n          defaultPageSize={10}\r\n          className=\"-striped -highlight\"\r\n          // show the loading overlay\r\n            // this.setState({loading: true})\r\n            // // fetch your data\r\n            // Axios.post('mysite.com/data', {\r\n            //   page: state.page,\r\n            //   pageSize: state.pageSize,\r\n            //   sorted: state.sorted,\r\n            //   filtered: state.filtered\r\n            // })\r\n            //   .then((res) => {\r\n            //     // Update react-table\r\n            //     this.setState({\r\n            //       data: res.data.rows,\r\n            //       pages: res.data.pages,\r\n            //       loading: false\r\n            //     })\r\n            //   })\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  Datatable.propTypes = {\r\n    onFetchData: PropTypes.func.isRequired\r\n  };\r\n\r\nexport default Datatable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Card, CardBody, CardHeader, Col, Modal, ModalBody, ModalFooter, ModalHeader, Row } from 'reactstrap';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nclass DeleteConfirmDialog extends React.Component {\r\n  state = {\r\n    open: false,\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState({ open: !this.state.open });\r\n  };\r\n\r\n  onClickToDelete = () => {\r\n      const {onClick, deleteId} = this.props;\r\n      \r\n      onClick(deleteId)\r\n      this.setState({ open: !this.state.open });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <>\r\n        <IconButton aria-label=\"Delete\" onClick={this.toggle}>\r\n          <DeleteIcon fontSize=\"small\" />\r\n        </IconButton>\r\n        <Modal isOpen={this.state.open} toggle={this.toggle} className={this.props.className}>\r\n            <ModalHeader toggle={this.toggle}>Delete User</ModalHeader>\r\n            <ModalBody>\r\n                Are you sure you want to delete this user?\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\r\n                <Button color=\"danger\" onClick={this.onClickToDelete}>Delete</Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteConfirmDialog;","import React, { Component } from 'react';\r\nimport { Badge, Card, CardBody, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { getAllUser, deleteUser } from '../../action/user.action';\r\nimport Datatable from '../../components/datatable/Datatable';\r\nimport DeleteConfirmDialog from '../../components/common/DeleteConfirmDialog';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\n\r\nclass UsersModal extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    \r\n    this.state = {\r\n      tableData: [],\r\n      pages: 1,\r\n      loading: false \r\n    }\r\n\r\n    this.onChangeToFetchTable = this.onChangeToFetchTable.bind(this);\r\n    this.onClickToDelete = this.onClickToDelete.bind(this);\r\n  }\r\n\r\n  onChangeToFetchTable = (state, instance) => {    \r\n    this.setState({loading: true})\r\n    this.props.getAllUser(state.page, state.pageSize, state.sorted, state.filtered).then((res) => {\r\n      if(res.data.code == 200) {\r\n        const {total, limit} = res.data.data;\r\n        this.setState({tableData : res.data.data.docs, pages: Math.ceil(total/limit), loading: false})\r\n      }\r\n    })\r\n  }\r\n\r\n  onClickToDelete = (id) => {    \r\n    // this.props.deleteUser(id)\r\n    let someArray = this.state.tableData.slice(0, this.state.tableData.findIndex(x => x._id === id))\r\n    console.log(\"someArray\", someArray)\r\n    // this.setState({tableData: someArray});\r\n    \r\n  }\r\n  \r\n  render() {    \r\n    console.log(\"tableData\", this.state.tableData);\r\n    const columns = [{\r\n      Header: 'Full Name',\r\n      accessor: 'fullName', // String-based value accessors!\r\n      width: 300\r\n    }, {\r\n      Header: 'Email Address',\r\n      accessor: 'emailId',    \r\n      width: 400\r\n    }, {\r\n      Header: 'Contact Number',\r\n      accessor: 'contactNumber', // Custom value accessors!\r\n      width: 300,\r\n      style: { textAlign: \"center\" }\r\n    }, {\r\n      Header: 'Status', // Custom header components!\r\n      id: \"status\",\r\n      accessor: d => d.status=='ACTIVE'? (<Badge color=\"success\">Active</Badge>):(<Badge color=\"secondary\">Inactive</Badge>),\r\n      width: 150,\r\n      style: { textAlign: \"center\" }\r\n    },\r\n    {\r\n      Header: \"Action\",\r\n      Cell: row => (<>\r\n           <IconButton aria-label=\"Delete\">\r\n             <EditIcon fontSize=\"small\" /> \r\n           </IconButton>\r\n           <DeleteConfirmDialog deleteId={row.row._original._id} onClick={this.onClickToDelete}/>\r\n        </>),\r\n      style: { textAlign: \"center\" }\r\n    }\r\n  ]\r\n\r\n\r\n    const {tableData} = this.state;\r\n    \r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col xs=\"12\" lg=\"12\">\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fa fa-align-justify\"></i> Users List\r\n              </CardHeader>\r\n                <CardBody>  \r\n                  <Datatable data={tableData} columns={columns} onFetchData={this.onChangeToFetchTable} pages={this.state.pages} loading={this.state.loading}/>\r\n                </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, {getAllUser, deleteUser})(UsersModal);\r\n","import axios from 'axios';\nimport { ACTION_TYPE } from '../reducers/reducer.types';\nimport API from '../config';\n\nconst changeAction = string => ({\n  \ttype : ACTION_TYPE,\n\taction_value: string\n});\n\nexport const getAllUser = (page, pageSize, sorted, filtered) => {\n    return dispatch => {\n    \treturn axios.get(`${API.URL}/admin/getAllUser?page=${page}&size=${pageSize}`);\n    }\n}\n\nexport const deleteUser = (page, pageSize, sorted, filtered) => {\n    return dispatch => {\n    \treturn axios.get(`${API.URL}/admin/getAllUser?page=${page}&size=${pageSize}`);\n    }\n}\n\nexport const Login = data => {\n\treturn dispatch => {\n\t\tconsole.log(data);\n\t}\n}\n"],"sourceRoot":""}