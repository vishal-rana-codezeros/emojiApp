(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{704:function(e,t,a){"use strict";a.r(t);var s=a(310),n=a(268),r=a(43),i=a(44),o=a(46),l=a(45),c=a(47),m=a(83),d=a(1),u=a.n(d),h=a(32),p=a(86),E=a(237),g=a(285),b=a(85),C=a.n(b),j=function(e){var t={},a=e.emailId,s=e.password;return Object(g.isEmpty)(a)&&(t.emailId="Please enter email address"),Object(g.isEmpty)(a)||Object(g.isEmail)(a)||(t.emailId="Please enter valid email address"),Object(g.isEmpty)(s)&&(t.password="Please Enter Password"),{isValid:C.a.isEmpty(t),errors:t}},f=function(e){var t={},a=e.emailId;return Object(g.isEmpty)(a)&&(t.emailId="Please enter email address"),Object(g.isEmpty)(a)||Object(g.isEmail)(a)||(t.emailId="Please enter valid email address"),{isValid:C.a.isEmpty(t),errors:t}},O=a(446),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).onChangeValue=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value),function(){a.state.isSubmit&&a.isValid(a.state)})},a.isValid=function(e){var t=f(e),s=t.isValid,n=t.errors;return a.setState({isValid:s,errors:n}),s},a.onClickLogin=function(e){e.preventDefault(),a.setState({isSubmit:!0}),a.isValid(a.state)&&a.props.forgotPassword(a.state).then(function(e){400==e.data.code?(a.setState({errors:Object(s.a)({},a.state.errors,{header:e.data.message})}),setTimeout(function(){a.setState({errors:Object(s.a)({},a.state.errors,{header:""})})},4e3)):a.setState({isValid:!1,isSendMail:!0})})},a.state={emailId:"",errors:{},isValid:!1,isSubmit:!1,isSendMail:!1},a.onChangeValue=a.onChangeValue.bind(Object(m.a)(Object(m.a)(a))),a.onClickLogin=a.onClickLogin.bind(Object(m.a)(Object(m.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.classes;return u.a.createElement(E.i,{className:"p-4"},u.a.createElement(E.j,null,!this.state.isSendMail&&u.a.createElement(E.u,{onSubmit:this.onClickLogin},u.a.createElement("h1",null,"Forgot Your Password?"),u.a.createElement("p",{className:"text-muted"},"Enter your email to receive recovery information"),this.state.errors.header&&u.a.createElement(E.a,{color:"danger"},this.state.errors.header),u.a.createElement(E.x,{className:"mb-3"},u.a.createElement(E.y,{addonType:"prepend"},u.a.createElement(E.z,null,u.a.createElement("i",{className:"icon-envelope"}))),u.a.createElement(E.w,{type:"text",placeholder:"Email",name:"emailId",value:this.state.username,onChange:this.onChangeValue,autoComplete:"username"}),t.emailId&&u.a.createElement("em",{className:"has-error"},t.emailId)),u.a.createElement(E.L,null,u.a.createElement(E.o,{xs:"6"},u.a.createElement(E.e,{color:"primary",className:"px-4",onClick:this.onClickLogin},"Send")),u.a.createElement(E.o,{xs:"6",className:"text-right"},u.a.createElement(E.e,{color:"link",className:"px-0",onClick:function(t){return e.props.onChange(!0)}},"Back to login")))),this.state.isSendMail&&u.a.createElement("div",{className:a.successCard},u.a.createElement("i",{className:"icons font-2xl d-block cui-circle-check ".concat(a.successIcon)}),u.a.createElement("h3",{className:a.successTitle},"Password Reset Email Sent"),u.a.createElement("p",{className:"text-muted"},"An email has been sent to your email address, ",this.state.emailId,". Follow to direction  in the email to get your password."),u.a.createElement(E.e,{color:"primary",className:"px-4",onClick:function(t){return e.props.onChange(!0)}},"Done"))))}}]),t}(d.Component),S=Object(h.connect)(null,{forgotPassword:p.b})(Object(O.a)({successIcon:{fontSize:"64px !important",color:"green"},successCard:{textAlign:"center"},successTitle:{lineHeight:"60px"}})(w)),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).onChangeValue=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value),function(){a.state.isSubmit&&a.isValid(a.state)})},a.isValid=function(e){var t=j(e),s=t.isValid,n=t.errors;return a.setState({isValid:s,errors:n}),s},a.onClickLogin=function(e){e.preventDefault(),a.setState({isSubmit:!0}),a.isValid(a.state)&&(a.props.LoginApi(a.state).then(function(e){e.data.code?(a.setState({errors:Object(s.a)({},a.state.errors,{header:e.data.message})}),setTimeout(function(){a.setState({errors:Object(s.a)({},a.state.errors,{header:""})})},4e3)):a.props.history.push("/dashboard")}),a.setState({isSubmit:!1}))},a.onChangeToForgotPassword=function(e){a.setState({isLogin:e,emailId:"",password:"",errors:{},isValid:!1,isSubmit:!1})},a.state={emailId:"",password:"",errors:{},isValid:!1,isSubmit:!1,isLogin:!0},a.onChangeValue=a.onChangeValue.bind(Object(m.a)(Object(m.a)(a))),a.onClickLogin=a.onClickLogin.bind(Object(m.a)(Object(m.a)(a))),a.onChangeToForgotPassword=a.onChangeToForgotPassword.bind(Object(m.a)(Object(m.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.Auth.isAuthenticate&&this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this,t=this.state.errors;return u.a.createElement("div",{className:"app flex-row align-items-center"},u.a.createElement(E.p,null,u.a.createElement(E.L,{className:"justify-content-center"},u.a.createElement(E.o,{md:"6"},u.a.createElement(E.l,null,this.state.isLogin&&u.a.createElement(E.i,{className:"p-4"},u.a.createElement(E.j,null,u.a.createElement(E.u,{onSubmit:this.onClickLogin},u.a.createElement("h1",null,"Login"),u.a.createElement("p",{className:"text-muted"},"Sign In to your account"),this.state.errors.header&&u.a.createElement(E.a,{color:"danger"},this.state.errors.header),u.a.createElement(E.x,{className:"mb-3"},u.a.createElement(E.y,{addonType:"prepend"},u.a.createElement(E.z,null,u.a.createElement("i",{className:"icon-user"}))),u.a.createElement(E.w,{type:"text",placeholder:"Email Address",name:"emailId",value:this.state.emailId,onChange:this.onChangeValue,autoComplete:"emailId"}),t.emailId&&u.a.createElement("em",{className:"has-error"},t.emailId)),u.a.createElement(E.x,{className:"mb-4"},u.a.createElement(E.y,{addonType:"prepend"},u.a.createElement(E.z,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(E.w,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChangeValue,autoComplete:"current-password"}),t.password&&u.a.createElement("em",{className:"has-error"},t.password)),u.a.createElement(E.L,null,u.a.createElement(E.o,{xs:"6"},u.a.createElement(E.e,{color:"primary",className:"px-4",onClick:this.onClickLogin},"Login")),u.a.createElement(E.o,{xs:"6",className:"text-right"},u.a.createElement(E.e,{color:"link",className:"px-0",onClick:function(t){return e.onChangeToForgotPassword(!1)}},"Forgot password?")))))),!this.state.isLogin&&u.a.createElement(S,{onChange:this.onChangeToForgotPassword}))))))}}]),t}(d.Component);t.default=Object(h.connect)(function(e){return{Auth:e.Auth}},{LoginApi:p.a})(y)}}]);
//# sourceMappingURL=6.528996c9.chunk.js.map